import { Component, signal } from '@angular/core';
import { RouterOutlet } from '@angular/router';
import { ThemeSidebarComponent } from './theme-sidebar/theme-sidebar.component';
import { KENDO_DIALOGS } from '@progress/kendo-angular-dialog';
import {
  ConfirmationDialogOutletComponent
} from '../../../../shared/src/components/confirmation-dialog-outlet/confirmation-dialog-outlet.component';

@Component({
  standalone: true,
  imports: [RouterOutlet, ThemeSidebarComponent, KENDO_DIALOGS, ConfirmationDialogOutletComponent],
  selector: 'vet-root',
  template: `
    <button class="toggle-container-button" (click)="toggleAppContainer()">
      <svg width="46" height="46" viewBox="0 0 46 46" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="23" cy="23" r="23" fill="#4CAEE8" />
        <g clip-path="url(#clip0_2954_242861)">
          <path
            d="M23.0001 8.00001C26.4718 7.99902 29.8364 9.20188 32.5206 11.4036C35.2047 13.6054 37.0424 16.6697 37.7204 20.0745C38.3984 23.4794 37.8747 27.0139 36.2387 30.0759C34.6027 33.1379 31.9556 35.5379 28.7483 36.8669C25.5411 38.1958 21.9723 38.3715 18.65 37.3641C15.3278 36.3566 12.4576 34.2283 10.5287 31.3418C8.59984 28.4553 7.73153 24.9893 8.07177 21.5343C8.41201 18.0794 9.93976 14.8493 12.3947 12.3945C13.7855 10.9991 15.4385 9.89246 17.2586 9.13827C19.0787 8.38408 21.03 7.99725 23.0001 8.00001ZM22.9049 26.1104L20.7199 32.148C20.6661 32.2993 20.5828 32.4383 20.4746 32.5569C20.3664 32.6756 20.2357 32.7714 20.09 32.8389C19.8711 32.9415 19.6267 32.9768 19.3878 32.9404C19.1488 32.904 18.9261 32.7974 18.7478 32.6342C18.5694 32.4711 18.4435 32.2586 18.3861 32.0239C18.3286 31.7891 18.3421 31.5425 18.4249 31.3154L19.9484 27.0967C20.0693 26.7792 20.1648 26.4527 20.234 26.1201C20.2956 25.7825 20.3396 25.4418 20.3659 25.0996C20.4244 24.4819 20.466 23.813 20.4977 23.1709C20.5294 22.5288 20.5514 21.9063 20.5685 21.3911C20.5905 20.749 20.4171 20.7075 19.902 20.5855L19.7946 20.5611L15.4 19.7334C15.242 19.7055 15.091 19.6468 14.9557 19.5605C14.8204 19.4742 14.7034 19.362 14.6115 19.2305C14.4749 19.0312 14.4005 18.7959 14.3978 18.5543C14.3951 18.3127 14.4641 18.0757 14.5961 17.8734C14.7281 17.6711 14.9172 17.5125 15.1394 17.4177C15.3616 17.3229 15.6069 17.2961 15.8444 17.3408L20.566 18.2271C20.754 18.2442 20.9371 18.2661 21.13 18.2881C21.7111 18.3677 22.2965 18.4109 22.8829 18.4175C23.6129 18.4032 24.3416 18.3486 25.0656 18.2539C25.2853 18.2295 25.4928 18.2027 25.7003 18.1831L30.1559 17.3482C30.472 17.2826 30.8012 17.3449 31.0714 17.5215C31.2054 17.6121 31.32 17.7285 31.4086 17.8638C31.4972 17.9991 31.558 18.1506 31.5875 18.3096C31.617 18.4686 31.6147 18.6319 31.5806 18.79C31.5465 18.9481 31.4813 19.0978 31.3888 19.2305C31.2981 19.3629 31.1822 19.4761 31.0478 19.5636C30.9133 19.6512 30.7629 19.7114 30.6051 19.7407L26.3473 20.5415C26.2057 20.5733 26.0787 20.5952 25.9664 20.6123C25.5221 20.688 25.3024 20.7271 25.3292 21.3594C25.3488 21.8208 25.4049 22.3726 25.4782 22.9487C25.5636 23.625 25.6759 24.3428 25.7931 24.9995C25.8688 25.4317 25.9396 25.7783 26.0372 26.1104C26.1349 26.4424 26.2301 26.7818 26.3766 27.1895L27.8683 31.3154C27.9511 31.5425 27.9646 31.7891 27.9072 32.0239C27.8497 32.2586 27.7238 32.4711 27.5455 32.6342C27.3671 32.7974 27.1444 32.904 26.9054 32.9404C26.6665 32.9768 26.4221 32.9415 26.2033 32.8389C26.0576 32.7714 25.9268 32.6756 25.8186 32.5569C25.7105 32.4383 25.6271 32.2993 25.5734 32.148L23.381 26.1226L23.1368 25.6758L22.8927 26.1104H22.9049ZM23.0001 13.044C23.4989 13.0435 23.9824 13.2161 24.3682 13.5322C24.754 13.8483 25.0183 14.2884 25.116 14.7775C25.2137 15.2666 25.1387 15.7744 24.9039 16.2145C24.6692 16.6546 24.289 16.9996 23.8284 17.1908C23.3677 17.382 22.855 17.4075 22.3776 17.2631C21.9002 17.1186 21.4877 16.8131 21.2103 16.3986C20.9329 15.9841 20.8079 15.4862 20.8564 14.9898C20.905 14.4934 21.1242 14.0292 21.4767 13.6763C21.6764 13.4756 21.9138 13.3164 22.1752 13.2079C22.4367 13.0994 22.717 13.0437 23.0001 13.044ZM31.8746 14.1255C29.8241 12.0681 27.1236 10.7855 24.2333 10.4962C21.343 10.2069 18.4418 10.9289 16.0242 12.539C13.6066 14.1492 11.8222 16.5479 10.9751 19.3264C10.1279 22.1048 10.2705 25.0911 11.3785 27.7762C12.4866 30.4613 14.4914 32.679 17.0515 34.0515C19.6115 35.424 22.5683 35.8662 25.4178 35.3028C28.2674 34.7395 30.8334 33.2054 32.6786 30.962C34.5238 28.7186 35.5339 25.9047 35.5368 23C35.5404 21.3526 35.2188 19.7206 34.5903 18.1977C33.9619 16.6748 33.039 15.291 31.8746 14.1255Z"
            fill="white"
          />
        </g>
        <defs>
          <clipPath id="clip0_2954_242861">
            <rect width="30" height="30" fill="white" transform="translate(8 8)" />
          </clipPath>
        </defs>
      </svg>
    </button>

    <vet-theme-sidebar [open]="isOpen()" />

    <router-outlet />
    <div kendoDialogContainer></div>
    <vet-confirmation-dialog-outlet/>
  `,
  styles: [
    `
      :host {
        display: block;
        min-height: 100%;
        height: 100%;
      }

      .toggle-container-button {
        position: fixed;
        top: 7rem;
        left: 1rem;
        z-index: 9999;
        padding: 0;
        border: none;
        background: none;
        cursor: pointer;

        svg {
          width: 2.875rem;
          height: 2.875rem;
        }
      }
    `,
  ],
  host: { ngSkipHydration: '' },
})
export class AppComponent {
  isOpen = signal(false);

  toggleAppContainer(): void {
    this.isOpen.set(!this.isOpen());
  }
}
